<%- include("partials/header.ejs") %>
<%- include("partials/header-image.ejs", { titleHTML: 'Read and <br> Share Stories.'}) %>
<!-- Posts go here -->
<section class="homepage">
    <div class="previews">
        <h1 class="head">Latest Posts</h1>
        <% if (locals.posts.length > 0) { %>
        <% posts.forEach((post, i) => { %>
            <article class="post-preview">
                <h1 id="title"><a href="post/<%= post['id'] %>"><%= post['title'] %></a></h1>
                <p id="description"><%= post['description'].substring(0, 128) %>....</p>
                    <div class="gap-half preview-footer">
                        <span><%= post['author'] %></span>
                        <span class="align-center"><svg svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" fill="currentColor" class="bi bi-circle-fill"
                            viewBox="0 0 16 16">
                            <circle cx="8" cy="8" r="8" />
                        </svg></span>
                        <span><%= post['date'] %></span>
                    </div>
            </article>
            <hr class="post-separator">
        <% }); %>
        <% } else { %>
            <p style="font-family: 'Inter', sans-serif; font-size: 1.5rem; margin: 0; color: #666;">There are no posts at the moment.</p>
        <% } %>
    </div>
</section>
<%- include("partials/footer.ejs") %>